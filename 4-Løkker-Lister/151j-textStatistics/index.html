<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
   <style>
      * {
         font-size: 30px;
      }
   </style>
</head>

<body onload="updateView()">
   <div id="app"></div>

   <script>
      let sentence = '';
      let numberOfWords = '';
      let longestWord = '';
      let wordWithMostVowels = '';
      let shortestWord = '';

      function updateView() {
         document.getElementById('app').innerHTML = /*HTML*/ `
            <label for="text">Skriv en setning</label>
            <input type="text" id="text" oninput="sentence = this.value">
            <button onclick="getTextStatistics()">OK</button>
            <br><br>
            <div>${numberOfWords ? 'Antall ord i setningen: ' + numberOfWords : ''}</div>
            <div>${longestWord ? 'Lengste ord: ' + longestWord : ''}</div>
            <div>${shortestWord ? 'Korteste ord: ' + shortestWord : ''}</div>
            <div>${wordWithMostVowels ? 'Flest vokaler ord: ' + wordWithMostVowels : ''}</div>
         `;
      }

      function getTextStatistics() {
         let lengthLongestWord = 0;
         let lengthShortestWord = 100;
         let splitSentence = sentence.split(' ');
         numberOfWords = splitSentence.length;

         for (let i = 0; i < splitSentence.length; i++) {
            if (splitSentence[i].length > lengthLongestWord) {
               lengthLongestWord = splitSentence[i].length;
               longestWord = splitSentence[i];
            }
         }
         for (let i = 0; i < splitSentence.length; i++) {
            if (splitSentence[i].length < lengthShortestWord) {
               lengthShortestWord = splitSentence[i].length;
               shortestWord = splitSentence[i];
            }
         }
         countVokaler()
         updateView()
      }



      function countVokaler() {
         let vowels = ['a', 'e', 'i', 'o', 'u', 'y', 'æ', 'ø', 'å'];
         let splitSentence = sentence.toLowerCase().split(' ');
         let result = '';
         let lettersInWord = '';

         for (let i = 0; i < splitSentence.length; i++) {
         lettersInWord = splitSentence[i].split(''); 
         let tempResult = 0;
            
         for (let j = 0; j < vowels.length; j++) {
         if ( vowels.indexOf(lettersInWord[j]) !== -1) {
            tempResult++
         }
         if (tempResult > result) {
            result = tempResult
            wordWithMostVowels = splitSentence[i];
         }
      }
      updateView()
      }
   }

   </script>
</body>

</html>